@{
    // Title, description, and canonical are provided by ToolsController.Index via ViewData
}

<div class="bg-[var(--color-bg)] min-h-screen">
    <div class="container-custom section-padding">
        <div id="tool-search-status" class="mb-4 text-sm text-[var(--color-text-medium)] hidden"></div>

        <!-- Header -->
        <div class="text-center mb-20 space-y-6 fade-in">
            <span
                class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-50 border border-blue-100 text-sm font-semibold text-blue-600 tracking-wide uppercase shadow-sm">
                <span class="relative flex h-2 w-2">
                    <span
                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-blue-500"></span>
                </span>
                Enterprise Grade Productivity
            </span>

            <h1
                class="text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight text-[var(--color-text-dark)] leading-tight">
                All Tools & <br /><span class="text-gradient">Calculators</span>
            </h1>

            <p class="text-xl md:text-2xl text-[var(--color-text-medium)] max-w-3xl mx-auto font-light leading-relaxed">
                A comprehensive suite of professional developer tools, precise calculators, and instant converters
                designed for modern workflow efficiency.
            </p>

            <!-- Stats Bar -->
            <div
                class="grid grid-cols-2 lg:grid-cols-4 gap-6 max-w-4xl mx-auto mt-12 bg-white rounded-2xl p-6 shadow-sm border border-[var(--color-border)]">
                <div class="text-center p-4 border-r border-[var(--color-border)] last:border-0 border-opacity-50">
                    <div class="text-4xl font-bold text-[var(--color-primary)] mb-1">48+</div>
                    <div class="text-xs font-semibold text-[var(--color-text-medium)] uppercase tracking-wider">Active
                        Tools</div>
                </div>
                <div class="text-center p-4 border-r border-[var(--color-border)] last:border-0 border-opacity-50">
                    <div class="text-4xl font-bold text-[var(--color-secondary)] mb-1">0ms</div>
                    <div class="text-xs font-semibold text-[var(--color-text-medium)] uppercase tracking-wider">Latency
                    </div>
                </div>
                <div class="text-center p-4 border-r border-[var(--color-border)] last:border-0 border-opacity-50">
                    <div class="text-4xl font-bold text-[var(--color-accent)] mb-1">100%</div>
                    <div class="text-xs font-semibold text-[var(--color-text-medium)] uppercase tracking-wider">Secure
                        (Local)</div>
                </div>
                <div class="text-center p-4">
                    <div class="text-4xl font-bold text-gray-800 mb-1">Free</div>
                    <div class="text-xs font-semibold text-[var(--color-text-medium)] uppercase tracking-wider">No
                        Sign-up</div>
                </div>
            </div>
        </div>

        <div class="mt-10 mb-12">
            <div class="flex flex-wrap justify-center gap-2">
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#developer">
                    <span>üíª</span><span>Developer</span>
                </button>
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#converters">
                    <span>üîÑ</span><span>Converters &amp; Calculators</span>
                </button>
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#business">
                    <span>üí∞</span><span>Business &amp; Finance</span>
                </button>
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#pakistan-finance">
                    <span>üáµüá∞</span><span>Pakistan Finance</span>
                </button>
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#math">
                    <span>üìê</span><span>Math &amp; Education</span>
                </button>
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#productivity">
                    <span>‚ö°</span><span>Productivity</span>
                </button>
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#academic">
                    <span>üéì</span><span>Academic</span>
                </button>
                <button type="button" class="pill-button text-xs md:text-sm flex items-center gap-1.5" data-target="#trending">
                    <span>üöÄ</span><span>Trending &amp; AI</span>
                </button>
            </div>
        </div>

        <!-- Developer Tools Section -->
        <div id="developer" class="mb-24 scroll-mt-24">
            <div class="flex items-center gap-4 mb-10 pb-4 border-b border-[var(--color-border)]">
                <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-2xl shadow-sm">üíª
                </div>
                <div>
                    <h2 class="text-3xl font-bold tracking-tight text-[var(--color-text-dark)]">Developer Tools</h2>
                    <p class="text-[var(--color-text-medium)] mt-1">Professional utilities for code manipulation and
                        validation</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @{
                    var jsonTool = ToolRegistry.GetById("json-formatter")!;
                    var jsonCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = jsonTool.Name,
                        ["Description"] = jsonTool.Description,
                        ["Url"] = Url.Action(jsonTool.Action, jsonTool.Controller) ?? "#",
                        ["IconHtml"] = jsonTool.IconHtml,
                        ["Category"] = jsonTool.Category,
                        ["Badges"] = jsonTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, jsonCard)

                @{
                    var regexTool = ToolRegistry.GetById("regex-tester")!;
                    var regexCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = regexTool.Name,
                        ["Description"] = regexTool.Description,
                        ["Url"] = Url.Action(regexTool.Action, regexTool.Controller) ?? "#",
                        ["IconHtml"] = regexTool.IconHtml,
                        ["Category"] = regexTool.Category,
                        ["Badges"] = regexTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, regexCard)

                @{
                    var jwtTool = ToolRegistry.GetById("jwt-decoder")!;
                    var jwtCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = jwtTool.Name,
                        ["Description"] = jwtTool.Description,
                        ["Url"] = Url.Action(jwtTool.Action, jwtTool.Controller) ?? "#",
                        ["IconHtml"] = jwtTool.IconHtml,
                        ["Category"] = jwtTool.Category,
                        ["Badges"] = jwtTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, jwtCard)

                @{
                    var hashTool = ToolRegistry.GetById("hash-generator")!;
                    var hashCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = hashTool.Name,
                        ["Description"] = hashTool.Description,
                        ["Url"] = Url.Action(hashTool.Action, hashTool.Controller) ?? "#",
                        ["IconHtml"] = hashTool.IconHtml,
                        ["Category"] = hashTool.Category,
                        ["Badges"] = hashTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, hashCard)

                @{
                    var loremTool = ToolRegistry.GetById("lorem-ipsum")!;
                    var loremCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = loremTool.Name,
                        ["Description"] = loremTool.Description,
                        ["Url"] = Url.Action(loremTool.Action, loremTool.Controller) ?? "#",
                        ["IconHtml"] = loremTool.IconHtml,
                        ["Category"] = loremTool.Category,
                        ["Badges"] = loremTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, loremCard)

                @{
                    var paletteTool = ToolRegistry.GetById("color-palette")!;
                    var paletteCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = paletteTool.Name,
                        ["Description"] = paletteTool.Description,
                        ["Url"] = Url.Action(paletteTool.Action, paletteTool.Controller) ?? "#",
                        ["IconHtml"] = paletteTool.IconHtml,
                        ["Category"] = paletteTool.Category,
                        ["Badges"] = paletteTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, paletteCard)

                @{
                    var pdfMergeTool = ToolRegistry.GetById("pdf-merge")!;
                    var pdfMergeCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = pdfMergeTool.Name,
                        ["Description"] = pdfMergeTool.Description,
                        ["Url"] = Url.Action(pdfMergeTool.Action, pdfMergeTool.Controller) ?? "#",
                        ["IconHtml"] = pdfMergeTool.IconHtml,
                        ["Category"] = pdfMergeTool.Category,
                        ["Badges"] = pdfMergeTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, pdfMergeCard)

                @{
                    var faviconTool = ToolRegistry.GetById("favicon-generator")!;
                    var faviconCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = faviconTool.Name,
                        ["Description"] = faviconTool.Description,
                        ["Url"] = Url.Action(faviconTool.Action, faviconTool.Controller) ?? "#",
                        ["IconHtml"] = faviconTool.IconHtml,
                        ["Category"] = faviconTool.Category,
                        ["Badges"] = faviconTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, faviconCard)

                @{
                    var compressorTool = ToolRegistry.GetById("image-compressor")!;
                    var imageCompressorCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = compressorTool.Name,
                        ["Description"] = compressorTool.Description,
                        ["Url"] = Url.Action(compressorTool.Action, compressorTool.Controller) ?? "#",
                        ["IconHtml"] = compressorTool.IconHtml,
                        ["Category"] = compressorTool.Category,
                        ["Badges"] = compressorTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, imageCompressorCard)

                @{
                    var qrTool = ToolRegistry.GetById("qr-generator")!;
                    var qrCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = qrTool.Name,
                        ["Description"] = qrTool.Description,
                        ["Url"] = Url.Action(qrTool.Action, qrTool.Controller) ?? "#",
                        ["IconHtml"] = qrTool.IconHtml,
                        ["Category"] = qrTool.Category,
                        ["Badges"] = qrTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, qrCard)
            </div>
        </div>

        <!-- Converters Section -->
        <div id="converters" class="mb-24 scroll-mt-24">
            <div class="flex items-center gap-4 mb-10 pb-4 border-b border-[var(--color-border)]">
                <div class="w-12 h-12 bg-teal-100 rounded-xl flex items-center justify-center text-2xl shadow-sm">üîÑ
                </div>
                <div>
                    <h2 class="text-3xl font-bold tracking-tight text-[var(--color-text-dark)]">Converters & Calculators
                    </h2>
                    <p class="text-[var(--color-text-medium)] mt-1">Essential tools for daily calculations and
                        conversions</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @{
                    var unitTool = ToolRegistry.GetById("unit-converter")!;
                    var unitCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = unitTool.Name,
                        ["Description"] = unitTool.Description,
                        ["Url"] = Url.Action(unitTool.Action, unitTool.Controller) ?? "#",
                        ["IconHtml"] = unitTool.IconHtml,
                        ["Category"] = unitTool.Category,
                        ["Badges"] = unitTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, unitCard)

                @{
                    var currencyTool = ToolRegistry.GetById("currency-converter")!;
                    var currencyCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = currencyTool.Name,
                        ["Description"] = currencyTool.Description,
                        ["Url"] = Url.Action(currencyTool.Action, currencyTool.Controller) ?? "#",
                        ["IconHtml"] = currencyTool.IconHtml,
                        ["Category"] = currencyTool.Category,
                        ["Badges"] = currencyTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, currencyCard)

                @{
                    var loanTool = ToolRegistry.GetById("loan-emi")!;
                    var loanEmiCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = loanTool.Name,
                        ["Description"] = loanTool.Description,
                        ["Url"] = Url.Action(loanTool.Action, loanTool.Controller) ?? "#",
                        ["IconHtml"] = loanTool.IconHtml,
                        ["Category"] = loanTool.Category,
                        ["Badges"] = loanTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, loanEmiCard)

                @{
                    var compoundTool = ToolRegistry.GetById("compound-interest")!;
                    var compoundCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = compoundTool.Name,
                        ["Description"] = compoundTool.Description,
                        ["Url"] = Url.Action(compoundTool.Action, compoundTool.Controller) ?? "#",
                        ["IconHtml"] = compoundTool.IconHtml,
                        ["Category"] = compoundTool.Category,
                        ["Badges"] = compoundTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, compoundCard)

                @{
                    var pkTaxTool = ToolRegistry.GetById("pakistan-salary-tax")!;
                    var pkTaxCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = pkTaxTool.Name,
                        ["Description"] = pkTaxTool.Description,
                        ["Url"] = Url.Action(pkTaxTool.Action, pkTaxTool.Controller) ?? "#",
                        ["IconHtml"] = pkTaxTool.IconHtml,
                        ["Category"] = pkTaxTool.Category,
                        ["Badges"] = pkTaxTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, pkTaxCard)

                @{
                    var bmiTool = ToolRegistry.GetById("bmi-calculator")!;
                    var bmiCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = bmiTool.Name,
                        ["Description"] = bmiTool.Description,
                        ["Url"] = Url.Action(bmiTool.Action, bmiTool.Controller) ?? "#",
                        ["IconHtml"] = bmiTool.IconHtml,
                        ["Category"] = bmiTool.Category,
                        ["Badges"] = bmiTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, bmiCard)

                @{
                    var ageTool = ToolRegistry.GetById("age-calculator")!;
                    var ageCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = ageTool.Name,
                        ["Description"] = ageTool.Description,
                        ["Url"] = Url.Action(ageTool.Action, ageTool.Controller) ?? "#",
                        ["IconHtml"] = ageTool.IconHtml,
                        ["Category"] = ageTool.Category,
                        ["Badges"] = ageTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, ageCard)

                @{
                    var dateTool = ToolRegistry.GetById("date-calculator")!;
                    var dateCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = dateTool.Name,
                        ["Description"] = dateTool.Description,
                        ["Url"] = Url.Action(dateTool.Action, dateTool.Controller) ?? "#",
                        ["IconHtml"] = dateTool.IconHtml,
                        ["Category"] = dateTool.Category,
                        ["Badges"] = dateTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, dateCard)

                @{
                    var passwordTool = ToolRegistry.GetById("password-generator")!;
                    var passwordCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = passwordTool.Name,
                        ["Description"] = passwordTool.Description,
                        ["Url"] = Url.Action(passwordTool.Action, passwordTool.Controller) ?? "#",
                        ["IconHtml"] = passwordTool.IconHtml,
                        ["Category"] = passwordTool.Category,
                        ["Badges"] = passwordTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, passwordCard)
            </div>
        </div>

        <!-- Pakistan Finance Highlight -->
        <div id="pakistan-finance" class="mb-24 scroll-mt-24">
            <div class="card bg-gradient-to-r from-emerald-50 to-sky-50 dark:from-emerald-900/20 dark:to-sky-900/20 border border-emerald-200 dark:border-emerald-800 flex flex-col md:flex-row items-start md:items-center justify-between gap-6 p-6">
                <div class="flex items-start gap-4">
                    <div class="w-12 h-12 rounded-2xl bg-emerald-500 text-white flex items-center justify-center text-2xl shadow-md">
                        üáµüá∞
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold tracking-tight text-[var(--color-text-dark)] mb-1">
                            Pakistan Finance Tools
                        </h2>
                        <p class="text-[var(--color-text-medium)] text-sm md:text-base max-w-xl">
                            Quickly estimate Pakistan salary income tax for 2025-26 and calculate zakat on gold, cash, and savings using local nisab thresholds.
                        </p>
                    </div>
                </div>
                <div class="flex flex-wrap gap-3 w-full md:w-auto">
                    <a asp-controller="Business" asp-action="PakistanTaxCalculator"
                       class="pill-button is-active">
                        Salary Tax 2025-26
                    </a>
                    <a asp-controller="Business" asp-action="PakistanZakatCalculator"
                       class="pill-button">
                        Zakat Calculator
                    </a>
                </div>
            </div>
        </div>

        <!-- Math Section -->
        <div id="math" class="mb-24 scroll-mt-24">
            <div class="flex items-center gap-4 mb-10 pb-4 border-b border-[var(--color-border)]">
                <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-2xl shadow-sm">üìê
                </div>
                <div>
                    <h2 class="text-3xl font-bold tracking-tight text-[var(--color-text-dark)]">Math & Education</h2>
                    <p class="text-[var(--color-text-medium)] mt-1">Advanced mathematical tools</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @{
                    var equationTool = ToolRegistry.GetById("equation-solver")!;
                    var equationCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = equationTool.Name,
                        ["Description"] = equationTool.Description,
                        ["Url"] = Url.Action(equationTool.Action, equationTool.Controller) ?? "#",
                        ["IconHtml"] = equationTool.IconHtml,
                        ["Category"] = equationTool.Category,
                        ["Badges"] = equationTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, equationCard)

                @{
                    var problemTool = ToolRegistry.GetById("problem-solver")!;
                    var problemCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = problemTool.Name,
                        ["Description"] = problemTool.Description,
                        ["Url"] = Url.Action(problemTool.Action, problemTool.Controller) ?? "#",
                        ["IconHtml"] = problemTool.IconHtml,
                        ["Category"] = problemTool.Category,
                        ["Badges"] = problemTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, problemCard)

                @{
                    var graphTool = ToolRegistry.GetById("graph-plotter")!;
                    var graphCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = graphTool.Name,
                        ["Description"] = graphTool.Description,
                        ["Url"] = Url.Action(graphTool.Action, graphTool.Controller) ?? "#",
                        ["IconHtml"] = graphTool.IconHtml,
                        ["Category"] = graphTool.Category,
                        ["Badges"] = graphTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, graphCard)

                @{
                    var evaluatorTool = ToolRegistry.GetById("expression-evaluator")!;
                    var evaluatorCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = evaluatorTool.Name,
                        ["Description"] = evaluatorTool.Description,
                        ["Url"] = Url.Action(evaluatorTool.Action, evaluatorTool.Controller) ?? "#",
                        ["IconHtml"] = evaluatorTool.IconHtml,
                        ["Category"] = evaluatorTool.Category,
                        ["Badges"] = evaluatorTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, evaluatorCard)

                @{
                    var permutationTool = ToolRegistry.GetById("permutation-combination")!;
                    var permutationCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = permutationTool.Name,
                        ["Description"] = permutationTool.Description,
                        ["Url"] = Url.Action(permutationTool.Action, permutationTool.Controller) ?? "#",
                        ["IconHtml"] = permutationTool.IconHtml,
                        ["Category"] = permutationTool.Category,
                        ["Badges"] = permutationTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, permutationCard)

                @{
                    var cryptoTool = ToolRegistry.GetById("cryptography")!;
                    var cryptoCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = cryptoTool.Name,
                        ["Description"] = cryptoTool.Description,
                        ["Url"] = Url.Action(cryptoTool.Action, cryptoTool.Controller) ?? "#",
                        ["IconHtml"] = cryptoTool.IconHtml,
                        ["Category"] = cryptoTool.Category,
                        ["Badges"] = cryptoTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, cryptoCard)

                @{
                    var indicatorTool = ToolRegistry.GetById("indicator-codes")!;
                    var indicatorCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = indicatorTool.Name,
                        ["Description"] = indicatorTool.Description,
                        ["Url"] = Url.Action(indicatorTool.Action, indicatorTool.Controller) ?? "#",
                        ["IconHtml"] = indicatorTool.IconHtml,
                        ["Category"] = indicatorTool.Category,
                        ["Badges"] = indicatorTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, indicatorCard)
            </div>
        </div>

        <!-- Productivity Section -->
        <div id="productivity" class="mb-24 scroll-mt-24">
            <div class="flex items-center gap-4 mb-10 pb-4 border-b border-[var(--color-border)]">
                <div class="w-12 h-12 bg-sky-100 rounded-xl flex items-center justify-center text-2xl shadow-sm">‚ö°</div>
                <div>
                    <h2 class="text-3xl font-bold tracking-tight text-[var(--color-text-dark)]">Productivity</h2>
                    <p class="text-[var(--color-text-medium)] mt-1">Tools to organize your life and work</p>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @{
                    var imageResizerTool = ToolRegistry.GetById("image-resizer")!;
                    var imageResizerCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = imageResizerTool.Name,
                        ["Description"] = imageResizerTool.Description,
                        ["Url"] = Url.Action(imageResizerTool.Action, imageResizerTool.Controller) ?? "#",
                        ["IconHtml"] = imageResizerTool.IconHtml,
                        ["Category"] = imageResizerTool.Category,
                        ["Badges"] = imageResizerTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, imageResizerCard)

                @{
                    var todoTool = ToolRegistry.GetById("todo-list")!;
                    var todoCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = todoTool.Name,
                        ["Description"] = todoTool.Description,
                        ["Url"] = Url.Action(todoTool.Action, todoTool.Controller) ?? "#",
                        ["IconHtml"] = todoTool.IconHtml,
                        ["Category"] = todoTool.Category,
                        ["Badges"] = todoTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, todoCard)

                @{
                    var kanbanTool = ToolRegistry.GetById("kanban-board")!;
                    var kanbanCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = kanbanTool.Name,
                        ["Description"] = kanbanTool.Description,
                        ["Url"] = Url.Action(kanbanTool.Action, kanbanTool.Controller) ?? "#",
                        ["IconHtml"] = kanbanTool.IconHtml,
                        ["Category"] = kanbanTool.Category,
                        ["Badges"] = kanbanTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, kanbanCard)

                @{
                    var notesTool = ToolRegistry.GetById("notes")!;
                    var notesCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = notesTool.Name,
                        ["Description"] = notesTool.Description,
                        ["Url"] = Url.Action(notesTool.Action, notesTool.Controller) ?? "#",
                        ["IconHtml"] = notesTool.IconHtml,
                        ["Category"] = notesTool.Category,
                        ["Badges"] = notesTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, notesCard)

                @{
                    var pomodoroTool = ToolRegistry.GetById("pomodoro")!;
                    var pomodoroCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = pomodoroTool.Name,
                        ["Description"] = pomodoroTool.Description,
                        ["Url"] = Url.Action(pomodoroTool.Action, pomodoroTool.Controller) ?? "#",
                        ["IconHtml"] = pomodoroTool.IconHtml,
                        ["Category"] = pomodoroTool.Category,
                        ["Badges"] = pomodoroTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, pomodoroCard)

                @{
                    var timeTrackerTool = ToolRegistry.GetById("time-tracker")!;
                    var timeTrackerCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = timeTrackerTool.Name,
                        ["Description"] = timeTrackerTool.Description,
                        ["Url"] = Url.Action(timeTrackerTool.Action, timeTrackerTool.Controller) ?? "#",
                        ["IconHtml"] = timeTrackerTool.IconHtml,
                        ["Category"] = timeTrackerTool.Category,
                        ["Badges"] = timeTrackerTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, timeTrackerCard)

                @{
                    var stopwatchTool = ToolRegistry.GetById("stopwatch")!;
                    var stopwatchCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = stopwatchTool.Name,
                        ["Description"] = stopwatchTool.Description,
                        ["Url"] = Url.Action(stopwatchTool.Action, stopwatchTool.Controller) ?? "#",
                        ["IconHtml"] = stopwatchTool.IconHtml,
                        ["Category"] = stopwatchTool.Category,
                        ["Badges"] = stopwatchTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, stopwatchCard)

                @{
                    var worldTimeTool = ToolRegistry.GetById("world-time")!;
                    var worldTimeCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = worldTimeTool.Name,
                        ["Description"] = worldTimeTool.Description,
                        ["Url"] = Url.Action(worldTimeTool.Action, worldTimeTool.Controller) ?? "#",
                        ["IconHtml"] = worldTimeTool.IconHtml,
                        ["Category"] = worldTimeTool.Category,
                        ["Badges"] = worldTimeTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, worldTimeCard)

                @{
                    var tzConvTool = ToolRegistry.GetById("time-zone-converter")!;
                    var tzConvCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = tzConvTool.Name,
                        ["Description"] = tzConvTool.Description,
                        ["Url"] = Url.Action(tzConvTool.Action, tzConvTool.Controller) ?? "#",
                        ["IconHtml"] = tzConvTool.IconHtml,
                        ["Category"] = tzConvTool.Category,
                        ["Badges"] = tzConvTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, tzConvCard)

                @{
                    var ttsTool = ToolRegistry.GetById("text-to-speech")!;
                    var ttsCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = ttsTool.Name,
                        ["Description"] = ttsTool.Description,
                        ["Url"] = Url.Action(ttsTool.Action, ttsTool.Controller) ?? "#",
                        ["IconHtml"] = ttsTool.IconHtml,
                        ["Category"] = ttsTool.Category,
                        ["Badges"] = ttsTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, ttsCard)
            </div>
        </div>

        <!-- Business Section -->
        <div id="business" class="mb-24 scroll-mt-24">
            <div class="flex items-center gap-4 mb-10 pb-4 border-b border-[var(--color-border)]">
                <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center text-2xl shadow-sm">üí∞
                </div>
                <div>
                    <h2 class="text-3xl font-bold tracking-tight text-[var(--color-text-dark)]">Business & Finance</h2>
                    <p class="text-[var(--color-text-medium)] mt-1">Financial calculators and planning tools</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @{
                    var profitTool = ToolRegistry.GetById("profit-margin")!;
                    var profitCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = profitTool.Name,
                        ["Description"] = profitTool.Description,
                        ["Url"] = Url.Action(profitTool.Action, profitTool.Controller) ?? "#",
                        ["IconHtml"] = profitTool.IconHtml,
                        ["Category"] = profitTool.Category,
                        ["Badges"] = profitTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, profitCard)

                @{
                    var roiTool = ToolRegistry.GetById("roi-analysis")!;
                    var roiCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = roiTool.Name,
                        ["Description"] = roiTool.Description,
                        ["Url"] = Url.Action(roiTool.Action, roiTool.Controller) ?? "#",
                        ["IconHtml"] = roiTool.IconHtml,
                        ["Category"] = roiTool.Category,
                        ["Badges"] = roiTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, roiCard)

                @{
                    var loanBusinessTool = ToolRegistry.GetById("loan-emi")!;
                    var loanCalcCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = loanBusinessTool.Name,
                        ["Description"] = loanBusinessTool.Description,
                        ["Url"] = Url.Action(loanBusinessTool.Action, loanBusinessTool.Controller) ?? "#",
                        ["IconHtml"] = "üíµ",
                        ["Category"] = loanBusinessTool.Category,
                        ["Badges"] = loanBusinessTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, loanCalcCard)

                @{
                    var unbilledTool = ToolRegistry.GetById("unbilled-hours")!;
                    var unbilledCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = unbilledTool.Name,
                        ["Description"] = unbilledTool.Description,
                        ["Url"] = Url.Action(unbilledTool.Action, unbilledTool.Controller) ?? "#",
                        ["IconHtml"] = unbilledTool.IconHtml,
                        ["Category"] = unbilledTool.Category,
                        ["Badges"] = unbilledTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, unbilledCard)

                @{
                    var savingsTool = ToolRegistry.GetById("savings-comparison")!;
                    var savingsCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = savingsTool.Name,
                        ["Description"] = savingsTool.Description,
                        ["Url"] = Url.Action(savingsTool.Action, savingsTool.Controller) ?? "#",
                        ["IconHtml"] = savingsTool.IconHtml,
                        ["Category"] = savingsTool.Category,
                        ["Badges"] = savingsTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, savingsCard)

                @{
                    var autoPlannerTool = ToolRegistry.GetById("automation-planner")!;
                    var autoPlannerCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = autoPlannerTool.Name,
                        ["Description"] = autoPlannerTool.Description,
                        ["Url"] = Url.Action(autoPlannerTool.Action, autoPlannerTool.Controller) ?? "#",
                        ["IconHtml"] = autoPlannerTool.IconHtml,
                        ["Category"] = autoPlannerTool.Category,
                        ["Badges"] = autoPlannerTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, autoPlannerCard)
            </div>
        </div>

        <!-- Academic Section -->
        <div id="academic" class="mb-24 scroll-mt-24">
            <div class="flex items-center gap-4 mb-10 pb-4 border-b border-[var(--color-border)]">
                <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center text-2xl shadow-sm">üéì
                </div>
                <div>
                    <h2 class="text-3xl font-bold tracking-tight text-[var(--color-text-dark)]">Academic Tools</h2>
                    <p class="text-[var(--color-text-medium)] mt-1">For students and teachers</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @{
                    var quizTool = ToolRegistry.GetById("quiz-builder")!;
                    var quizCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = quizTool.Name,
                        ["Description"] = quizTool.Description,
                        ["Url"] = Url.Action(quizTool.Action, quizTool.Controller) ?? "#",
                        ["IconHtml"] = quizTool.IconHtml,
                        ["Category"] = quizTool.Category,
                        ["Badges"] = quizTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, quizCard)

                @{
                    var flashcardsTool = ToolRegistry.GetById("flashcards")!;
                    var flashcardsCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = flashcardsTool.Name,
                        ["Description"] = flashcardsTool.Description,
                        ["Url"] = Url.Action(flashcardsTool.Action, flashcardsTool.Controller) ?? "#",
                        ["IconHtml"] = flashcardsTool.IconHtml,
                        ["Category"] = flashcardsTool.Category,
                        ["Badges"] = flashcardsTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, flashcardsCard)

                @{
                    var grammarTool = ToolRegistry.GetById("grammar-helper")!;
                    var grammarCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = grammarTool.Name,
                        ["Description"] = grammarTool.Description,
                        ["Url"] = Url.Action(grammarTool.Action, grammarTool.Controller) ?? "#",
                        ["IconHtml"] = grammarTool.IconHtml,
                        ["Category"] = grammarTool.Category,
                        ["Badges"] = grammarTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, grammarCard)

                @{
                    var formulasTool = ToolRegistry.GetById("formula-reference")!;
                    var formulasCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = formulasTool.Name,
                        ["Description"] = formulasTool.Description,
                        ["Url"] = Url.Action(formulasTool.Action, formulasTool.Controller) ?? "#",
                        ["IconHtml"] = formulasTool.IconHtml,
                        ["Category"] = formulasTool.Category,
                        ["Badges"] = formulasTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, formulasCard)

                @{
                    var whiteboardTool = ToolRegistry.GetById("whiteboard")!;
                    var whiteboardCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = whiteboardTool.Name,
                        ["Description"] = whiteboardTool.Description,
                        ["Url"] = Url.Action(whiteboardTool.Action, whiteboardTool.Controller) ?? "#",
                        ["IconHtml"] = whiteboardTool.IconHtml,
                        ["Category"] = whiteboardTool.Category,
                        ["Badges"] = whiteboardTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, whiteboardCard)

                @{
                    var mindMapTool = ToolRegistry.GetById("mind-map")!;
                    var mindMapCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = mindMapTool.Name,
                        ["Description"] = mindMapTool.Description,
                        ["Url"] = Url.Action(mindMapTool.Action, mindMapTool.Controller) ?? "#",
                        ["IconHtml"] = mindMapTool.IconHtml,
                        ["Category"] = mindMapTool.Category,
                        ["Badges"] = mindMapTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, mindMapCard)
            </div>
        </div>

        <!-- Trending Section -->
        <div id="trending" class="mb-24 scroll-mt-24">
            <div class="flex items-center gap-4 mb-10 pb-4 border-b border-[var(--color-border)]">
                <div class="w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center text-2xl shadow-sm">üöÄ
                </div>
                <div>
                    <h2 class="text-3xl font-bold tracking-tight text-[var(--color-text-dark)]">Trending & AI</h2>
                    <p class="text-[var(--color-text-medium)] mt-1">Smart AI tools and new releases</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                @{
                    var aiWriterTool = ToolRegistry.GetById("ai-writing-assistant")!;
                    var aiWriterCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = aiWriterTool.Name,
                        ["Description"] = aiWriterTool.Description,
                        ["Url"] = Url.Action(aiWriterTool.Action, aiWriterTool.Controller) ?? "#",
                        ["IconHtml"] = aiWriterTool.IconHtml,
                        ["Category"] = aiWriterTool.Category,
                        ["Badges"] = aiWriterTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, aiWriterCard)

                @{
                    var pollBuilderTool = ToolRegistry.GetById("poll-builder")!;
                    var pollBuilderCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = pollBuilderTool.Name,
                        ["Description"] = pollBuilderTool.Description,
                        ["Url"] = Url.Action(pollBuilderTool.Action, pollBuilderTool.Controller) ?? "#",
                        ["IconHtml"] = pollBuilderTool.IconHtml,
                        ["Category"] = pollBuilderTool.Category,
                        ["Badges"] = pollBuilderTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, pollBuilderCard)

                @{
                    var rateCompTool = ToolRegistry.GetById("rate-comparison")!;
                    var rateCompCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = rateCompTool.Name,
                        ["Description"] = rateCompTool.Description,
                        ["Url"] = Url.Action(rateCompTool.Action, rateCompTool.Controller) ?? "#",
                        ["IconHtml"] = rateCompTool.IconHtml,
                        ["Category"] = rateCompTool.Category,
                        ["Badges"] = rateCompTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, rateCompCard)

                @{
                    var encryptionTool = ToolRegistry.GetById("encryption-tool")!;
                    var encryptionCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = encryptionTool.Name,
                        ["Description"] = encryptionTool.Description,
                        ["Url"] = Url.Action(encryptionTool.Action, encryptionTool.Controller) ?? "#",
                        ["IconHtml"] = encryptionTool.IconHtml,
                        ["Category"] = encryptionTool.Category,
                        ["Badges"] = encryptionTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, encryptionCard)

                @{
                    var memeTool = ToolRegistry.GetById("meme-generator")!;
                    var memeCard = new ViewDataDictionary(ViewData)
                    {
                        ["Title"] = memeTool.Name,
                        ["Description"] = memeTool.Description,
                        ["Url"] = Url.Action(memeTool.Action, memeTool.Controller) ?? "#",
                        ["IconHtml"] = memeTool.IconHtml,
                        ["Category"] = memeTool.Category,
                        ["Badges"] = memeTool.Badges
                    };
                }
                @await Html.PartialAsync("_ToolCard", null, memeCard)
            </div>
        </div>
                    
            </div>
        </div>

        <!-- Coming Soon Section -->
        <div
            class="mt-24 p-12 rounded-3xl bg-gradient-to-r from-slate-900 to-slate-800 text-white shadow-2xl relative overflow-hidden">
            <div class="absolute top-0 right-0 p-12 opacity-5">
                <svg class="w-64 h-64 text-white" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z" />
                </svg>
            </div>

            <div class="relative z-10">
                <div class="flex items-center gap-6 mb-8">
                    <div
                        class="w-16 h-16 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center text-4xl shadow-inner border border-white/20">
                        üöÄ
                    </div>
                    <div>
                        <h2 class="text-3xl md:text-4xl font-bold tracking-tight">On The Horizon</h2>
                        <p class="text-white/70 text-lg mt-2">New enterprise tools currently in development.</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div
                        class="flex items-center gap-3 p-4 rounded-xl bg-white/5 backdrop-blur border border-white/10 hover:bg-white/10 transition-colors">
                        <span class="text-2xl">üìö</span>
                        <span class="font-medium">PDF Tools Suite</span>
                    </div>
                    <div
                        class="flex items-center gap-3 p-4 rounded-xl bg-white/5 backdrop-blur border border-white/10 hover:bg-white/10 transition-colors">
                        <span class="text-2xl">üíπ</span>
                        <span class="font-medium">Advanced Finance Tools</span>
                    </div>
                    <div
                        class="flex items-center gap-3 p-4 rounded-xl bg-white/5 backdrop-blur border border-white/10 hover:bg-white/10 transition-colors">
                        <span class="text-2xl">ü§ñ</span>
                        <span class="font-medium">AI Summarizer</span>
                    </div>
                    <div
                        class="flex items-center gap-3 p-4 rounded-xl bg-white/5 backdrop-blur border border-white/10 hover:bg-white/10 transition-colors">
                        <span class="text-2xl">üåê</span>
                        <span class="font-medium">SEO Audit Tool</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Apply search filter when arriving with ?q=...
        (function () {
            const params = new URLSearchParams(window.location.search);
            const q = params.get('q');
            if (!q) return;

            const query = q.toLowerCase();
            const cards = Array.from(document.querySelectorAll('.tool-card'));
            if (!cards.length) return;

            let matchCount = 0;
            cards.forEach(card => {
                const text = card.innerText.toLowerCase();
                if (text.includes(query)) {
                    card.classList.remove('hidden');
                    matchCount++;
                } else {
                    card.classList.add('hidden');
                }
            });

            const status = document.getElementById('tool-search-status');
            if (status) {
                status.classList.remove('hidden');
                if (matchCount > 0) {
                    status.textContent = `Showing ${matchCount} tool${matchCount === 1 ? '' : 's'} matching \"${q}\".`;
                } else {
                    status.textContent = `No tools found matching \"${q}\". Showing all tools.`;
                    cards.forEach(card => card.classList.remove('hidden'));
                }
            }
        })();

        // Add animation on scroll for tool cards
        (function () {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.tool-card').forEach(el => {
                observer.observe(el);
            });
        })();

        // Top-level section quick-jump buttons
        (function () {
            const buttons = document.querySelectorAll('[data-target]');
            if (!buttons.length) return;

            buttons.forEach(btn => {
                btn.addEventListener('click', function () {
                    const targetSelector = this.getAttribute('data-target');
                    if (!targetSelector) return;
                    const target = document.querySelector(targetSelector);
                    if (!target) return;

                    // Optimistic active state on click
                    buttons.forEach(b => b.classList.remove('is-active'));
                    this.classList.add('is-active');

                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });
        })();

        // Highlight active section in quick-jump bar based on scroll position
        (function () {
            const sectionIds = [
                'developer',
                'converters',
                'business',
                'pakistan-finance',
                'math',
                'productivity',
                'academic',
                'trending'
            ];

            const sections = sectionIds
                .map(id => document.getElementById(id))
                .filter(Boolean);

            if (!sections.length) return;

            const buttonsById = {};
            document.querySelectorAll('[data-target]').forEach(btn => {
                const targetSelector = btn.getAttribute('data-target');
                if (!targetSelector || !targetSelector.startsWith('#')) return;
                const id = targetSelector.substring(1);
                if (sectionIds.indexOf(id) !== -1) {
                    buttonsById[id] = btn;
                }
            });

            if (!Object.keys(buttonsById).length) return;

            let activeId = null;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) return;
                    const id = entry.target.id;
                    if (!id || !buttonsById[id] || id === activeId) return;

                    activeId = id;

                    Object.keys(buttonsById).forEach(key => {
                        const btn = buttonsById[key];
                        if (!btn) return;
                        if (key === id) {
                            btn.classList.add('is-active');
                        } else {
                            btn.classList.remove('is-active');
                        }
                    });
                });
            }, {
                threshold: 0.35,
                rootMargin: '-72px 0px -55% 0px'
            });

            sections.forEach(section => observer.observe(section));
        })();
    </script>
}